<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/admin.css">
</head>
<body>
    <div class="admin-container">
        <h1>User Management</h1>
        <div class="admin-actions">
            <a href="/admin/dashboard" class="btn">Create New User</a>
            <form action="/admin/search" method="GET" class="search-form">
                <input type="text" name="username" placeholder="Search users...">
                <button type="submit">Search</button>
            </form>
        </div>

        <table class="user-table">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Bio</th>
                    <th>Profile Picture</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% users.forEach(user => { %>
                <tr>
                    <td><%= user.name %></td>
                    <td><%= user.bio %></td>
                    <td>
                        <% if (user.profilePicture) { %>
                            <img src="<%= user.profilePicture %>" class="profile-thumbnail">
                        <% } %>
                    </td>
                    <td class="actions">
                        <form action="/admin/edit" method="POST" class="action-form">
                            <input type="hidden" name="id" value="<%= user._id %>">
                            <input type="text" name="username" value="<%= user.name %>">
                            <input type="password" name="password" placeholder="New password">
                            <button type="submit" class="btn btn-edit">Update</button>
                        </form>
                        <form action="/admin/delete" method="POST" class="action-form">
                            <input type="hidden" name="id" value="<%= user._id %>">
                            <button type="submit" class="btn delete-btn">Delete</button>
                        </form>
                    </td>
                </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</body>
</html>